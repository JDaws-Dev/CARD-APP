
# Ralph Session 2026-01-17 17:39:12
# Scope: Working on: priority<=**1**


# Ralph Session 2026-01-17 17:42:03
# Scope: Working on: priority<=**1**

## CD-sux - Collection Modal - Show owned variants
**Status:** Completed
**Changes:** Added owned variants display section to CardDetailModal showing variant badges with quantities (e.g., "Normal x2, Holo x1"). Updated CollectionView to aggregate collection entries by cardId and track variant quantities per card.
**Files:** src/components/collection/CardDetailModal.tsx, src/components/collection/CollectionView.tsx
**Commit:** 90b4ca2
---

# Ralph Session 2026-01-17 17:54:27
# Scope: Working on: **all open issues**

## CD-2i4 - Profile switcher for families
**Status:** Completed (previously implemented)
**Changes:** Verified existing implementation from commit 6f2190a
**Files:** src/components/header/ProfileSwitcher.tsx, src/components/layout/AppHeader.tsx
**Commit:** 6f2190a (existing)
---
## CD-4nd - Restructure settings page - My Settings vs Family Controls
**Status:** Completed
**Changes:** Restructured settings page to visually separate kid-accessible settings (My Settings) from parent-controlled settings (Family Controls). My Settings includes Display and Accessibility options with standard borders. Family Controls includes Games You Collect and Sleep Mode with amber borders for visual distinction.
**Files:** src/app/settings/page.tsx
**Commit:** 5815da3
---
## CD-8a6 - Add PIN protection to Family Controls
**Status:** Completed
**Changes:** Created PinProtectionWrapper component that requires PIN verification when a Parent PIN is set. Wrapped Family Controls section (Game Selection, Sleep Mode) with PIN protection on the settings page. When no PIN is set, settings are shown directly to allow initial setup. When PIN is set, shows lock screen requiring entry.
**Files:** src/components/settings/PinProtectionWrapper.tsx (new), src/app/settings/page.tsx (modified)
**Commit:** d5d2595
---
## CD-4xk - Add visual lock indicators on protected settings
**Status:** Completed
**Changes:** Added LockClosedIcon and "Parent Only" badges to Games You Collect and Sleep Mode section headers in Family Controls
**Files:** src/app/settings/page.tsx
**Commit:** 8aa6031
---
## CD-lur - Handle no-PIN-set state for Family Controls
**Status:** Completed
**Changes:** Added PIN setup prompt in PinProtectionWrapper when no PIN is configured. Parents must now create a PIN before accessing Family Controls settings.
**Files:** src/components/settings/PinProtectionWrapper.tsx
**Commit:** 7f05581
---
## CD-8jf - Make settings profile-aware per child
**Status:** Completed
**Changes:** Implemented per-profile settings for sleep schedules. Added profileSettings table to Convex, created backend CRUD operations, updated SleepModeProvider to use Convex storage, and added profile selector UI for parents.
**Files:** convex/schema.ts, convex/profileSettings.ts (new), src/components/providers/SleepModeProvider.tsx, src/components/settings/SleepModeSettings.tsx
**Commit:** fde2fb7
---
## CD-r4z - Add unlock button flow for Family Controls
**Status:** Completed
**Changes:** Verified existing implementation - PinProtectionWrapper component provides full unlock button flow with PIN entry, session-based unlock state, and re-lock capability
**Files:** 
- src/components/settings/PinProtectionWrapper.tsx (unlock UI)
- src/app/settings/page.tsx (uses wrapper)
- convex/pinProtection.ts (backend validation)
**Commit:** N/A - feature was already implemented
---
## CD-0bg - Protect Game Selection toggle in Family Controls
**Status:** Completed (Already Implemented)
**Changes:** No code changes required - verified feature is already implemented
**Files:** 
- src/app/settings/page.tsx - GameSettingsToggle inside PinProtectionWrapper
- src/components/settings/PinProtectionWrapper.tsx - PIN protection UI
- convex/pinProtection.ts - Secure PIN backend
**Verification:** Game selection is fully protected by parent PIN in Family Controls
---
## CD-pt9 - Update landing page for multi-TCG support
**Status:** Completed
**Changes:** Updated all Pokemon-specific text on the landing page to be TCG-agnostic, including changing "Pokemon cards" to "trading cards", replacing Pokemon card examples with generic names, updating stats from "500+ Pokemon Sets" to "4 TCGs Supported", updating pricing features to "All 4 TCGs with full set coverage", and expanding the footer disclaimer to include all 4 TCG companies.
**Files:** src/app/page.tsx
**Commit:** b9a1ecf
---
## CD-mfx - Collection Modal - Quick actions
**Status:** Completed
**Changes:** Verified existing implementation - all four quick action buttons (View in Set, Add to Wishlist, Edit Quantity, Remove Card) were already fully implemented in CardDetailModal.tsx with handlers in CollectionView.tsx
**Files:** src/components/collection/CardDetailModal.tsx, src/components/collection/CollectionView.tsx
**Commit:** N/A - no code changes needed, feature was already complete
---

# Ralph Session 2026-01-17 18:36:24
# Scope: Working on: **all open issues**

## CD-wgg - Landing Page - AI Magic section
**Status:** Completed
**Changes:** Added AI Magic section to landing page with three feature cards: Snap to Add (camera-based card addition), Ask Your Collection (chat with collection), and Card Stories (fun card stories). Added new icon imports and followed existing responsive design patterns.
**Files:** src/app/page.tsx
**Commit:** 1959058
---
## CD-c53 - Landing Page - AI features in pricing tiers
**Status:** Completed
**Changes:** Added AI Magic feature listings to both Free and Family pricing tiers. Free tier shows Snap to Add and Card Stories; Family tier shows all three AI features (Snap to Add, Ask Your Collection, Card Stories).
**Files:** src/app/page.tsx
**Commit:** 1959058
---
## CD-blj - Landing Page - Kid-Safe AI trust badges
**Status:** Completed
**Changes:** Added two new trust badges (Kid-Safe AI and No Personal Data) to the Trust Signals Section on the landing page. Updated grid layout to accommodate 5 badges responsively.
**Files:** src/app/page.tsx
**Commit:** ad7d786
---
## CD-3m6 - AI-008: Build camera capture component (CardScanner.tsx)
**Status:** Completed
**Changes:** Created CardScanner.tsx component with camera preview, photo capture, image preview, and AI card scanning integration
**Files:** src/components/ai/CardScanner.tsx (new)
**Commit:** ac24ea1
---
## CD-7dn - AI-011: Snap to Add UI flow with confirmation
**Status:** Completed
**Changes:** Created SnapToAddFlow component for confirming AI card identification before adding to collection. Includes AI result display, variant selection, manual search fallback, success feedback, and error handling.
**Files:** src/components/ai/SnapToAddFlow.tsx (605 lines)
**Commit:** 1d8e449
---
## CD-cfm - AI-012: Add scanner button to collection/set pages
**Status:** Completed
**Changes:** Created reusable ScannerButton component with modal, added to collection page and set detail page headers
**Files:** src/components/ai/ScannerButton.tsx (NEW), src/app/collection/page.tsx, src/app/sets/[setId]/page.tsx
**Commit:** ea595dc
---
## CD-q9p - AI-016: Build chat UI component (CollectionChat.tsx)
**Status:** Completed
**Changes:** Created CollectionChat.tsx component with chat bubble interface, message history, input field, send button, typing indicator, and auto-scroll
**Files:** src/components/ai/CollectionChat.tsx
**Commit:** 354b728
---
## CD-10m - AI-020: Add chat button to dashboard/collection pages
**Status:** Completed
**Changes:** Created ChatButton component for floating chat bubble, integrated with dashboard and collection pages
**Files:** src/components/ai/ChatButton.tsx, src/app/dashboard/page.tsx, src/app/collection/page.tsx
**Commit:** 3cd6c8d
---
## CD-0wp - AI-023: Create story display modal (CardStoryModal.tsx)
**Status:** Completed
**Changes:** Created CardStoryModal.tsx component with card image display, story text rendering, fun facts callout boxes, loading and error states
**Files:** src/components/ai/CardStoryModal.tsx (new file)
**Commit:** 7a3dfb2
---
## CD-8k7 - AI-024: Add 'Tell me about this card!' button
**Status:** Completed
**Changes:** Added SparklesIcon button in CardDetailModal Quick Actions section that opens CardStoryModal. Button uses kid-friendly gradient styling with proper accessibility (aria-label).
**Files:** src/components/collection/CardDetailModal.tsx
**Commit:** 9e5aa09
---
## CD-ml3 - AI-026: Add loading states and error handling for AI features
**Status:** Completed
**Changes:** Enhanced skeleton loading for CardStoryModal with content-mimicking skeleton UI; enhanced CardScanner progress overlay with animated ping effect and animated progress bar; verified existing typing indicator in CollectionChat; verified friendly error messages and retry functionality across all AI components
**Files:** src/components/ai/CardStoryModal.tsx, src/components/ai/CardScanner.tsx, tailwind.config.ts
**Commit:** 41ec25a
---
## CD-bbv - AI-028: Build quiz UI component (AIQuiz.tsx)
**Status:** Completed
**Changes:** Created AIQuiz.tsx component with full quiz functionality including intro screen, loading state, question display with timer, feedback, and results summary. Integrates with existing quizGenerator.ts backend.
**Files:** src/components/ai/AIQuiz.tsx (new file, 827 lines)
**Commit:** 53ce67a
---
## CD-tm7 - AI-030: Add AI quiz to Learn page
**Status:** Completed
**Changes:** Added AI Quiz section to Learn page with SparklesIcon banner and "Quiz Me!" button that opens the AIQuiz modal. Mobile responsive layout.
**Files:** src/components/tutorials/LearnToCollect.tsx
**Commit:** d0d4ecd
---
## CD-dhn - Landing: AI Magic section header
**Status:** Completed
**Changes:** Updated the AI Magic section header on the landing page with the specified headline "Powered by AI Magic âœ¨" and subhead, added gradient styling to the SparklesIcon badge
**Files:** src/app/page.tsx
**Commit:** 2ac7619
---
## CD-9sd - Landing: Snap to Add feature card
**Status:** Completed
**Changes:** Updated the Snap to Add feature card in the AI Magic section to use cyan-to-blue gradient, updated icon colors to cyan-500, and updated description text to match specifications.
**Files:** src/app/page.tsx
**Commit:** edfa8cb
---
## CD-uo1 - Landing: Ask Your Collection feature card
**Status:** Completed
**Changes:** Updated the Ask Your Collection feature card in the AI Magic section to use purple-pink gradient, ChatBubbleLeftRightIcon, and specified description text.
**Files:** src/app/page.tsx
**Commit:** 1959058
---
## CD-edn - Landing: Card Stories feature card
**Status:** Completed
**Changes:** Updated Card Stories feature card in AI Magic section with orange-to-yellow gradient, orange icon colors, and updated description text to match spec
**Files:** src/app/page.tsx
**Commit:** a118512
---
## CD-qxt - Landing: Kid-Safe AI trust badge
**Status:** Completed
**Changes:** Updated Kid-Safe AI trust badge icon from SparklesIcon to ShieldCheckIcon in the Trust Signals section
**Files:** src/app/page.tsx
**Commit:** b79d336
---

# Ralph Session 2026-01-17 21:16:01
# Scope: Working on: **all open issues**

## CD-6fa - Landing: No Personal Data AI indicator
**Status:** Completed
**Changes:** Updated existing No Personal Data trust badge with AI-focused privacy messaging. Changed description to "We never send your child's name or info to AI. Our AI features only see card data, never personal details about your family." Updated badge label to "AI privacy protected".
**Files:** src/app/page.tsx
**Commit:** 2d20333
---
## CD-5nl - Landing: AI features in pricing tiers
**Status:** Completed
**Changes:** Added AI feature limits to pricing tiers (Free: 5 scans/day, 10 questions/day; Family: 20 scans/day, unlimited questions, Quiz Me!, Fair Trade Helper) and feature comparison table with AI Features row
**Files:** src/app/page.tsx
**Commit:** ef9afac
---
## CD-8go - Landing: Update hero for AI-powered messaging
**Status:** Completed
**Changes:** Added "AI-Powered Scanning" badge to hero section, updated subheading to highlight "Snap a photo to add cards instantly"
**Files:** src/app/page.tsx
**Commit:** 1d66368
---
## CD-dkx - Collection Modal - Card metadata
**Status:** Completed
**Changes:** Verified that all requested metadata (rarity, card number, type, market value) is already displayed in CardDetailModal.tsx. No code changes needed - work was previously completed.
**Files:** 
- src/components/collection/CardDetailModal.tsx - Already contains all metadata display
- src/components/collection/CollectionView.tsx - Already uses CardDetailModal
**Commit:** N/A (no changes needed)
---
## CD-696 - Collection Modal - Navigation
**Status:** Completed
**Changes:** Added swipe navigation support to CardDetailModal for mobile devices. Arrow key navigation (left/right) and ESC to close were already implemented. Updated navigation hint to show responsive messages (desktop vs mobile).
**Files:** src/components/collection/CardDetailModal.tsx
**Commit:** a32d21c
---
## CD-3vv - Collection - Variant badges on cards
**Status:** Completed
**Changes:** Added variant badges (N/H/R/1H/1N) to collection card thumbnails showing which variants the user owns with color-coded gradient badges
**Files:** src/components/collection/CollectionView.tsx
**Commit:** 8d2771f
---
## CD-ehd - Collection - Filter by variant type
**Status:** Completed
**Changes:** Added VariantFilter component to filter collection cards by variant type (Normal, Holofoil, Reverse Holo, 1st Ed. Holo, 1st Edition). Integrated into CollectionView with variant counts and filtering logic.
**Files:** 
- src/components/filter/VariantFilter.tsx (new)
- src/components/collection/CollectionView.tsx (modified)
**Commit:** 1e97c97
---
## CD-u0t - Collection - Sort by date added
**Status:** Completed
**Changes:** Added sort dropdown with "By Set" (default) and "Recently Added" options. Uses Convex _creationTime for date-based sorting.
**Files:** src/components/collection/CollectionView.tsx
**Commit:** 4ca8267
---
## CD-0f3 - Collection - Sort by value
**Status:** Completed
**Changes:** Added "By Value" sort option to collection view dropdown. Cards are sorted by market price (highest first), with cards without price data at the end.
**Files:** src/components/collection/CollectionView.tsx
**Commit:** 656cb3d
---
## CD-fw6 - Collection - Grid size options
**Status:** Completed
**Changes:** Added toggle control to switch between compact and expanded thumbnail views. Compact shows more cards (4-10 columns), expanded shows larger cards (2-6 columns).
**Files:** src/components/collection/CollectionView.tsx
**Commit:** 00234a7
---
## CD-tdv - Sets Page - Fix card spacing/overlap
**Status:** Completed
**Changes:** Increased grid gaps from gap-4/5/6 to gap-5/6/8 to accommodate ring-offset-2 styling on owned cards that was causing overlap
**Files:** src/app/globals.css, src/components/collection/VirtualCardGrid.tsx, src/app/sets/[setId]/page.tsx
**Commit:** 3b2083f
---
## CD-3l7 - Sets Page - Enlarged card on add
**Status:** Completed
**Changes:** Modified CardAddedCelebration component to show enlarged imageLarge that stays visible until clicked away. Changed from 1.5s auto-dismiss to click-to-dismiss modal with semi-transparent backdrop.
**Files:** src/components/collection/VirtualCardGrid.tsx
**Commit:** See below
---
## CD-5hi - Sets Page - Magnifying glass for close-up
**Status:** Completed
**Changes:** Added magnifying glass icon button to card thumbnails in VirtualCardGrid that opens a CardCloseUpModal showing enlarged card image
**Files:** src/components/collection/VirtualCardGrid.tsx
**Commit:** 70af558
---
## CD-oyz - Debug variant badges not showing
**Status:** Completed
**Changes:** Investigated root cause of variant badges not showing on Sets page. Found that the database schema only stores a single priceMarket value and loses variant information from the Pokemon TCG API. Created follow-up issue CD-gvx to fix by storing available variants in the cachedCards schema.
**Files:** Investigation only - no code changes needed. Root cause is in:
- convex/schema.ts (missing variant fields)
- convex/dataPopulation.ts (loses variant data)
- src/app/sets/[setId]/page.tsx (reconstructs prices incorrectly)
**Commit:** N/A (investigation only)
---
## CD-w1m - Sets Page - Research Pokemon TCG API variants
**Status:** Completed
**Changes:** Documented the Pokemon TCG API tcgplayer.prices structure including all variant keys (normal, holofoil, reverseHolofoil, 1stEditionHolofoil, 1stEditionNormal), price fields (low, mid, high, market, directLow), and analyzed current implementation gaps. Identified that variant information is lost during data caching and documented the recommended solution.
**Files:** Research documented in issue notes (no code changes - research task)
**Commit:** N/A (documentation only)
---
## CD-v5a - Sets Page - Variant badge component
**Status:** Completed
**Changes:** Created reusable VariantBadge and VariantBadgeGroup components for displaying card variant badges (N/H/R/1N/1H) with owned/unowned styling. Refactored VirtualCardGrid to use the new component.
**Files:** 
- src/components/ui/VariantBadge.tsx (new)
- src/components/collection/VirtualCardGrid.tsx (updated)
**Commit:** b33f2bb
---
## CD-gsq - Sets Page - Badge click interactions
**Status:** Completed
**Changes:** Added click handlers to variant badges - gray badges add variants directly, lit badges open the variant selector popup
**Files:** src/components/ui/VariantBadge.tsx, src/components/collection/VirtualCardGrid.tsx
**Commit:** 0bdf117
---
## CD-6zb - Sets Page - Sorting options
**Status:** Completed
**Changes:** Added sorting dropdown to set detail page with options for card number, type, owned first, wanted first, recently added, and price (high to low)
**Files:** src/components/collection/SetDetailClient.tsx
**Commit:** 5e5876c
---
## CD-4d7.1 - Update collection page to use game selector
**Status:** Completed
**Changes:** Added useGameSelector hook to collection page, replaced hardcoded "pokemon" with primaryGame.id for ScannerButton and ChatButton, updated subtitle to show dynamic game name
**Files:** src/app/collection/page.tsx
**Commit:** 9cd89b8
---
## CD-qt9 - Persist game selection in user profile
**Status:** Completed
**Changes:** Added primaryGame field to profileSettings schema, created getPrimaryGame query and setPrimaryGame mutation in Convex, and updated GameSelectorProvider to sync with Convex for authenticated users while preserving localStorage as a fallback for unauthenticated users.
**Files:** convex/schema.ts, convex/profileSettings.ts, src/components/providers/GameSelectorProvider.tsx
**Commit:** e26c7b2
---
## CD-fp4 - Game switch indicator across all pages
**Status:** Completed
**Changes:** Added GameSwitcher component to the mobile menu in AppHeader, ensuring the game indicator is visible on both desktop (already present) and mobile views. The indicator shows the active game with game-specific icons and gradient colors.
**Files:** src/components/layout/AppHeader.tsx
**Commit:** 1959058
---
## CD-ah7 - Quick game switcher in header
**Status:** Completed
**Changes:** Verified feature already implemented - GameSwitcher component exists and is integrated in AppHeader.tsx for both desktop and mobile views
**Files:** src/components/header/GameSwitcher.tsx, src/components/layout/AppHeader.tsx
**Commit:** N/A - already completed in previous commits (56d1a71, 3d6b18a)
---
## CD-t3g - Update page routes to use game selector
**Status:** Completed
**Changes:** Added game selector support to browse, search, my-wishlist, and public wishlist pages. Pages now filter/search within the selected game and display game-appropriate text.
**Files:** src/app/browse/page.tsx, src/app/search/page.tsx, src/app/my-wishlist/page.tsx, src/app/wishlist/[token]/page.tsx
**Commit:** 290bb42
---
## CD-f97 - Fix Badges/Achievements not showing
**Status:** Completed
**Changes:** 
- Added `checkAllAchievements` mutation in convex/achievements.ts that checks all achievement types at once
- Updated MilestoneCelebration to use new unified check mutation
- Updated SetCompletionCelebration hook to check set completion achievements when cards added
- Updated VirtualCardGrid and CardGrid to pass profileId for set achievement tracking
**Files:** 
- convex/achievements.ts
- src/components/gamification/MilestoneCelebration.tsx
- src/components/gamification/SetCompletionCelebration.tsx
- src/components/collection/VirtualCardGrid.tsx
- src/components/collection/CardGrid.tsx
**Commit:** 99ed9a2
---
## CD-efi - Game-wide theming: Apply game-specific color theme across entire site
**Status:** Completed
**Changes:** Added dark mode support for game CSS variables, updated GameThemeProvider to set data-game attribute on html, added smooth CSS transitions for theme changes, updated AppHeader, ScannerButton, and ChatButton to use game-themed colors
**Files:** src/lib/gameSelector.ts, src/components/providers/GameThemeProvider.tsx, src/app/globals.css, src/components/layout/AppHeader.tsx, src/components/ai/ScannerButton.tsx, src/components/ai/ChatButton.tsx
**Commit:** f8404aa
---
## CD-2i4 - Profile switcher for families
**Status:** Completed
**Changes:** Issue was already fully implemented. Verified existing ProfileSwitcher component functionality and closed issue.
**Files:** src/components/header/ProfileSwitcher.tsx, src/components/layout/AppHeader.tsx
**Commit:** 6f2190a (original implementation), f34ae8a (previous close attempt)
---
## CD-2i4 - Profile switcher for families
**Status:** Completed
**Changes:** Profile switcher component added to header for authenticated users, allowing families to switch between child profiles. Shows current profile avatar and name, dropdown displays all available profiles with visual selection indicator.
**Files:** src/components/header/ProfileSwitcher.tsx (new), src/components/layout/AppHeader.tsx (updated)
**Commit:** (implementation committed previously, closing issue now)
---
## CD-fzv.1 - Add gameSlug filtering to collection backend queries
**Status:** Completed
**Changes:** Added optional gameSlug parameter to 4 collection queries (getCollection, getCollectionStats, getCollectionWithStats, getCollectionBySet) to filter cards by TCG game
**Files:** convex/collections.ts
**Commit:** fac632b
---
## CD-2i4 - Profile switcher for families
**Status:** Completed
**Changes:** Implementation was already complete - verified and closed. Added ProfileSwitcher component to header for family profile switching with localStorage persistence.
**Files:** src/components/header/ProfileSwitcher.tsx (new), src/components/layout/AppHeader.tsx (updated)
**Commit:** Previously committed
---
## CD-56t - My Collection page UX overhaul - clean up clutter and improve mobile
**Status:** Completed
**Changes:** 
- Removed Random Card button from CollectionView
- Hidden Binder view on mobile (md:flex)
- Simplified header: removed Back to Home link, reduced buttons from ~8 to 2-3
- Made Trophy Room cards clickable with CardDetailModal integration
- Fixed Trophy Room mobile layout (3 cols mobile, 5 desktop)
- Hidden Trophy Room bottom row on mobile
**Files:** 
- src/app/collection/page.tsx
- src/components/collection/CollectionView.tsx
- src/components/virtual/VirtualTrophyRoom.tsx
**Commit:** 5dcd4de
---
## CD-7k0 - Remove Pack Simulator from Dashboard - doesn't fit real card collecting focus
**Status:** Completed
**Changes:** Removed virtual pack opening simulator from dashboard. Deleted PackOpeningSimulator component (673 lines) and its tests. Dashboard now focuses on real collection tracking only.
**Files:** 
- Modified: src/components/dashboard/KidDashboard.tsx
- Deleted: src/components/virtual/PackOpeningSimulator.tsx
- Deleted: src/components/virtual/__tests__/PackOpeningSimulator.test.tsx
**Commit:** 402dd7c
---
## CD-fzv.2 - Update Collection page to use gameSlug filtering
**Status:** Completed
**Changes:** Added gameSlug parameter to getCollection and getCollectionStats queries using primaryGame.id from useGameSelector hook
**Files:** src/app/collection/page.tsx
**Commit:** 9fad028
---
## CD-fzv.3 - Update Dashboard page to use game selector
**Status:** Completed
**Changes:** Added useGameSelector hook to Dashboard page, updated ChatButton and KidDashboard to use dynamic gameSlug, updated KidDashboard to filter stats by active game and display game name in labels
**Files:** src/app/dashboard/page.tsx, src/components/dashboard/KidDashboard.tsx
**Commit:** 1959058
---
## CD-75f - Add onError handlers to CardGrid images
**Status:** Completed
**Changes:** Updated wishlist pages to use CardImage component which has built-in onError handling and fallback placeholder. The CardGrid components already used CardImage.
**Files:** src/app/wishlist/[token]/page.tsx, src/app/my-wishlist/page.tsx
**Commit:** 0287b6f
---
## CD-49w - Extract hardcoded game card URLs to config
**Status:** Completed
**Changes:** Extracted all hardcoded Pokemon TCG image URLs from 5 mini-game components into centralized config file with helper functions for URL construction
**Files:** src/lib/miniGamesConfig.ts (new), src/components/games/*.tsx (5 files updated)
**Commit:** c9bbdfb
---
## CD-7vv - Add parent features indicator to profile menu
**Status:** Completed
**Changes:** Added "Parent features available" indicator text below the Parent Dashboard menu item in both desktop and mobile navigation menus
**Files:** src/components/layout/AppHeader.tsx
**Commit:** e271784
---
## CD-vg4 - Remove redundant Back to Home link from dashboard
**Status:** Completed
**Changes:** Removed "Back to Home" link and "Go Home" button from dashboard error page since dashboard IS home. Error page now only shows "Try Again" button. Also removed incorrect test that tested for a link that didn't exist in the main dashboard page.
**Files:** src/app/dashboard/error.tsx, src/app/dashboard/__tests__/page.test.tsx
**Commit:** b9d98ce
---
## CD-bo7 - Landing Page - Update hero for multi-TCG
**Status:** Completed
**Changes:** Updated hero heading from "Track Your Trading Cards Like a Pro!" to "Track Your Trading Card Collection" for multi-TCG branding
**Files:** src/app/page.tsx
**Commit:** 31fad30
---
## CD-9wu - Landing Page - Add Supported Games section
**Status:** Completed
**Changes:** Added "Supported Games" section to landing page displaying all 4 TCGs (Pokemon, Yu-Gi-Oh!, One Piece, Lorcana) in a responsive feature grid with stylized icons, names, and taglines
**Files:** src/app/page.tsx
**Commit:** f092955
---
## CD-n60 - Landing Page - Update How It Works for multi-TCG
**Status:** Completed
**Changes:** Updated Step 1 description in How It Works section to be game-agnostic. Changed from listing specific game names (Pokemon, Yu-Gi-Oh!, Lorcana) to generic "your favorite trading card games".
**Files:** src/app/page.tsx
**Commit:** 31fad30
---
## CD-qq4 - Landing Page - Update pricing for multi-TCG
**Status:** Completed (work already done in CD-pt9)
**Changes:** Verified that pricing text was already updated from "500+ Pokemon sets" to "All 4 TCGs with full set coverage" as part of earlier multi-TCG landing page update (CD-pt9). No additional code changes needed.
**Files:** src/app/page.tsx (verified, not modified)
**Commit:** N/A (no changes needed)
---
## CD-s88 - Landing Page - Add Multiple Games feature
**Status:** Completed
**Changes:** Feature was already implemented in commit f092955. Verified the Supported Games section displays 4 game icons (Pokemon, Yu-Gi-Oh!, One Piece, Lorcana) with custom SVG icons, responsive grid layout, and hover animations.
**Files:** src/app/page.tsx (lines 211-268), src/components/icons/tcg/index.tsx, src/lib/gameSelector.ts
**Commit:** Already committed in f092955
---
## CD-3zd - Add CSP headers for security
**Status:** Completed
**Changes:** Added Content Security Policy and security headers to next.config.js. CSP includes directives for scripts, styles, images (all TCG domains), fonts, connections (Convex), and frame protection. Also added X-Content-Type-Options, X-Frame-Options, X-XSS-Protection, Referrer-Policy, and Permissions-Policy headers.
**Files:** next.config.js
**Commit:** 31fad30
---

# Ralph Session 2026-01-18 04:27:31
# Scope: Working on: **all open issues**

## CD-gvx - Store available variants in cachedCards schema
**Status:** Completed
**Changes:** Added availableVariants field to cachedCards schema, updated data population to extract variant keys from Pokemon TCG API, updated SetDetailPage to use stored variants
**Files:** convex/schema.ts, convex/dataPopulation.ts, src/app/sets/[setId]/page.tsx
**Commit:** 31fad30
---
## CD-gvx - Store available variants in cachedCards schema
**Status:** Completed
**Changes:** Added availableVariants field to cachedCards schema to track which card variants (normal, holofoil, reverseHolofoil) are available from the Pokemon TCG API. Updated data population to extract variant keys and SetDetailPage to use stored variants when reconstructing price data.
**Files:** convex/schema.ts, convex/dataPopulation.ts, src/app/sets/[setId]/page.tsx
**Commit:** ce19b34
---
## CD-4d7.2 - Update dashboard page to use game selector
**Status:** Completed
**Changes:** Verified that dashboard page was already using game selector. Dashboard page imports useGameSelector hook and passes primaryGame.id to KidDashboard and ChatButton components, and primaryGame.shortName for display text. No code changes required.
**Files:** src/app/dashboard/page.tsx, src/components/dashboard/KidDashboard.tsx (both already configured correctly)
**Commit:** N/A (no changes needed)
---
## CD-4d7.2 - Update dashboard page to use game selector
**Status:** Completed
**Changes:** Verified that dashboard page already had game selector integration complete. Imports useGameSelector, uses primaryGame.id for KidDashboard and ChatButton components.
**Files:** src/app/dashboard/page.tsx (already complete)
**Commit:** N/A (work was already done)
---
## CD-4d7.3 - Update browse/search pages to use game selector
**Status:** Completed
**Changes:** Verified that both browse and search pages already use the game selector correctly. No code changes needed.
**Files:** src/app/browse/page.tsx, src/app/search/page.tsx (already complete)
**Commit:** N/A (no changes required)
---
## CD-4d7.3 - Update browse/search pages to use game selector
**Status:** Completed
**Changes:** Verified browse and search pages already use game selector correctly. No code changes needed - pages already import useGameSelector and use primaryGame.id for API calls and primaryGame.shortName for display text.
**Files:** 
- src/app/browse/page.tsx (already complete)
- src/app/search/page.tsx (already complete)
- src/components/search/SearchResults.tsx (no changes needed - presentational component)
**Commit:** No new commits needed - work was already done
---
## CD-4d7.4 - Update ScannerButton and ChatButton to use game selector
**Status:** Completed
**Changes:** Verified that both ScannerButton and ChatButton already use the game selector via useGameSelector hook. Both pass primaryGame.id to their child components (CardScanner and CollectionChat). No code changes required.
**Files:** src/components/ai/ScannerButton.tsx, src/components/ai/ChatButton.tsx (both already correct)
**Commit:** No changes needed - work was already complete
---
## CD-4d7.4 - Update ScannerButton and ChatButton to use game selector
**Status:** Completed
**Changes:** Updated ScannerButton and ChatButton components to use useGameSelector hook instead of gameSlug prop. Cleaned up all call sites in collection/page.tsx, dashboard/page.tsx, and sets/[setId]/page.tsx to remove the now-unnecessary prop.
**Files:** 
- src/components/ai/ScannerButton.tsx
- src/components/ai/ChatButton.tsx
- src/app/collection/page.tsx
- src/app/dashboard/page.tsx
- src/app/sets/[setId]/page.tsx
**Commits:** 34bc8f3, b3bb936
---
## CD-4d7.5 - Update wishlist and compare pages to use game selector
**Status:** Completed
**Changes:** Updated compare page and DuplicateFinder to use game selector. Backend APIs already support gameSlug filtering, so we pass the selected game to filter comparisons server-side. Public wishlist page intentionally not changed (read-only share page shows all games).
**Files:** src/components/collection/DuplicateFinder.tsx, src/app/compare/page.tsx
**Commit:** d9c35f7
---

# Ralph Session 2026-01-18 04:45:00
# Scope: Working on: **all open issues**

## CD-15z - FINAL: Comprehensive UI/UX audit for site cohesion
**Status:** Completed
**Changes:** 
- Conducted full UI/UX audit across all pages and components
- Removed unsupported game CSS variables (mtg, digimon, dragonball) from globals.css
- Created 3 follow-up issues for larger problems:
  - CD-j95: Remove Pokemon-specific references from general pages
  - CD-549: Remove unsupported games from profileGames.ts
  - CD-ee5: Unify game theme colors in navigation elements
**Files:** src/app/globals.css
**Commit:** See below
---
## CD-15z - FINAL: Comprehensive UI/UX audit for site cohesion
**Status:** Completed
**Changes:** Performed comprehensive UI/UX audit across all pages. Fixed unsupported game references in SetsList.tsx, TrophyCase.tsx, and globals.css. Created follow-up issues CD-ql6 (TypeScript errors), CD-x0g (placeholder legal pages).
**Files:** src/components/sets/SetsList.tsx, src/components/achievements/TrophyCase.tsx, src/app/globals.css
**Commit:** e5f5e13
---
## CD-4d7.6 - Update remaining pages to use game selector
**Status:** Completed
**Changes:** Updated CollectionView.tsx and CardDetailModal.tsx to use useGameSelector hook instead of hardcoded 'pokemon' values
**Files:** src/components/collection/CollectionView.tsx, src/components/collection/CardDetailModal.tsx
**Commit:** 1385d5e
---
## CD-0id - Fix hardcoded pokemon in VirtualTrophyRoom.tsx
**Status:** Completed
**Changes:** Updated VirtualTrophyRoom.tsx to use game selector context instead of hardcoded 'pokemon' when adding cards to wishlist. Added useGameSelector import, called hook to get primaryGame, and used primaryGame.id for gameSlug.
**Files:** src/components/virtual/VirtualTrophyRoom.tsx
**Commit:** 847f888
---
## CD-4ka.4 - Add game logo to dashboard header
**Status:** Completed
**Changes:** Added game logo badge with first letter, game-specific gradient theming, and game name display to dashboard header
**Files:** src/components/dashboard/KidDashboard.tsx
**Commit:** 712584e
---
## CD-4ka.1 - Add featured card images to dashboard
**Status:** Completed
**Changes:** Added RecentCardsPreview and FeaturedCardsPreview components to dashboard. Recent cards show horizontal scroll of recently added cards with time ago. Featured cards show 3 random spotlight cards with refresh button. Both components integrated into KidDashboard.
**Files:** 
- src/components/dashboard/RecentCardsPreview.tsx (new)
- src/components/dashboard/FeaturedCardsPreview.tsx (new)
- src/components/dashboard/KidDashboard.tsx (modified)
**Commit:** 68f9692
---
## CD-7p3 - Investigate and fix card images for non-Pokemon games
**Status:** Completed
**Changes:** Fixed API response parsing in browse page - was setting entire response object instead of extracting .data array
**Files:** src/app/browse/page.tsx
**Commit:** 2127488
---
## CD-fzv.4 - Add gameSlug filtering to achievement backend queries
**Status:** Completed
**Changes:** Added optional gameSlug parameter to getAchievements and getAchievementsWithDates queries. Created achievementBelongsToGame helper function that determines game affiliation (set_completion by set's game, type_specialist/pokemon_fan Pokemon-only, milestone/streak global).
**Files:** convex/achievements.ts
**Commit:** db47175
---
## CD-7p3 - Investigate and fix card images for non-Pokemon games
**Status:** Already Completed (reviewed/verified)
**Changes:** Verified that card images for all 4 games (Pokemon, Yu-Gi-Oh, One Piece, Lorcana) load correctly through Next.js image optimization. The Browse Sets page already respects URL game parameters and displays correct game-specific styling.
**Files:** src/app/sets/page.tsx (already committed with Suspense wrapper and URL param support)
**Verification:**
- All 4 games return correct image URLs from Convex
- All image domains configured in next.config.js
- HTTP 200 responses from Next.js image optimizer for all games
- Build passes successfully
---

# Ralph Session 2026-01-18 05:06:51
# Scope: Working on: **all open issues**

## CD-fzv.5 - Update Badges page to use game-filtered achievements
**Status:** Completed
**Changes:** Verified existing implementation - Badges page already uses useGameSelector hook to get primaryGame and passes gameSlug to TrophyCase component, which passes it to the achievements.getAchievements query for game-specific filtering.
**Files:** src/app/badges/page.tsx, src/components/achievements/TrophyCase.tsx, convex/achievements.ts (all verified, no changes needed)
**Commit:** N/A - implementation was already complete
---
## CD-fzv.5 - Update Badges page to use game-filtered achievements
**Status:** Completed
**Changes:** Added useGameSelector hook to badges page, updated TrophyCase component to accept gameSlug prop and pass it to getAchievements query for game-specific achievement filtering
**Files:** src/app/badges/page.tsx, src/components/achievements/TrophyCase.tsx
**Commit:** f7f3a64
---
## CD-sqv - Improve mobile game switcher UX
**Status:** Completed
**Changes:** Implemented a mobile bottom tab bar for game switching. Created MobileGameBar component with 56x56px tap targets, game-specific gradient colors, scale animation feedback, and fixed positioning at bottom of screen. Added AuthAwareMobileGameBar wrapper to show only for authenticated users. Updated layout.tsx with proper padding to prevent content overlap.
**Files:** 
- src/components/header/MobileGameBar.tsx (created)
- src/components/layout/AuthAwareMobileGameBar.tsx (created)
- src/app/layout.tsx (modified)
**Commit:** 9929406
---
## CD-nxw - Redesign header - add logo, make it sleek and modern
**Status:** Completed
**Changes:** Redesigned AppHeader with modern CardDexLogo SVG featuring gradient-filled layered card stack, animated sparkle accent, enhanced glass-morphism effect, thicker gradient accent line, larger logo/text, visible game subtitle, smooth 500ms transitions, pill-style navigation, and improved mobile menu
**Files:** src/components/layout/AppHeader.tsx
**Commit:** 4a3b897
---
## CD-nxw - Redesign header - add logo, make it sleek and modern
**Status:** Completed
**Changes:** Redesigned the header with a modern, sleek look featuring:
- New CardDexLogo SVG with layered card stack effect and animated sparkle accent
- Glass-morphism styling (backdrop-blur-xl, translucent backgrounds)
- Game theme integration with dynamic colors (CSS variables)
- Prominent "CardDex" branding with game subtitle
- Pill-style navigation container with smooth hover states
- Rounded corners (rounded-xl/2xl) throughout
- Consistent styling across AppHeader, MarketingHeader, and skeleton
**Files:** src/components/layout/AppHeader.tsx, src/components/layout/MarketingHeader.tsx, src/components/layout/AuthAwareHeader.tsx, src/components/header/MobileBottomNav.tsx
**Commits:** fe73745, 4a3b897, 9628027
---
## CD-yg8 - Redesign mobile bottom navigation - move game picker, add main nav
**Status:** Completed
**Changes:** Verified existing implementation - MobileBottomNav.tsx shows Collection/Sets/Badges/Wishlist/More, More menu has Search/Profile/Settings/Sign Out, tap targets exceed 44px, iOS safe area support added
**Files:** src/components/header/MobileBottomNav.tsx (created), src/components/header/MobileGameBar.tsx (deleted), src/components/layout/AuthAwareMobileGameBar.tsx (updated)
**Commit:** Previous commits (feature already implemented)
---
## CD-yg8 - Redesign mobile bottom navigation - move game picker, add main nav
**Status:** Completed
**Changes:** Redesigned mobile bottom navigation from game selector to main app navigation. Created MobileBottomNav.tsx with Collection, Sets, Badges, Wishlist, and More menu. More menu includes Search, Profile, Settings, and Sign Out. Removed old MobileGameBar.tsx. Game switcher remains in header.
**Files:** 
- src/components/header/MobileBottomNav.tsx (created)
- src/components/header/MobileGameBar.tsx (deleted)
- src/components/layout/AuthAwareMobileGameBar.tsx (updated)
**Commit:** Changes were already included in commit 9628027
---
## CD-1om - Fix header branding - CardDex name not visible
**Status:** Completed
**Changes:** Fixed invisible CardDex brand text by replacing Tailwind gradient class combination with inline styles. The bg-game-gradient class wasn't working correctly with bg-clip-text/text-transparent. Used explicit CSS properties with fallback colors.
**Files:** src/components/layout/AppHeader.tsx
**Commit:** 00bf141
---
## CD-1om - Fix header branding - CardDex name not visible
**Status:** Completed
**Changes:** Created text-game-gradient CSS utility class with @supports fallback for browsers that don't support gradient text. The CardDex brand name now displays as a gradient when supported, with solid primary color fallback otherwise.
**Files:** src/app/globals.css, src/components/layout/AppHeader.tsx
**Commit:** 175bd40
---

# Ralph Session 2026-01-18 05:28:52
# Scope: Working on: **all open issues**

## CD-7o8 - Audit and fix Wishlist system - images not showing, full evaluation
**Status:** Completed
**Changes:** Fixed API response parsing bug where `/api/cards` endpoint returns `{ data: [...cards...] }` but components were treating response as raw array. Fixed 5 files total (2 were already fixed in previous commit).
**Files:** 
- src/app/my-wishlist/page.tsx (already fixed in 75c3416)
- src/app/wishlist/[token]/page.tsx (already fixed in 75c3416)
- src/components/wishlist/ExportWishlist.tsx
- src/components/collection/ExportChecklist.tsx
- src/components/family/TradeSuggestionEngine.tsx
**Commit:** 9d5435b
---
## CD-7o8 - Audit and fix Wishlist system (Additional Fixes)
**Status:** Completed (additional fixes committed)
**Changes:** Fixed gameSlug not being passed when adding to wishlist from CardGrid and VirtualCardGrid components. CardGrid was missing gameSlug entirely, VirtualCardGrid had it hardcoded to 'pokemon'.
**Files:** 
- src/components/collection/CardGrid.tsx
- src/components/collection/VirtualCardGrid.tsx
**Commit:** b76481a
**Note:** Issue was already closed; these are supplementary fixes discovered during review.
---

# Ralph Session 2026-01-18 05:42:11
# Scope: Working on: **all open issues**


# Ralph Session 2026-01-18 05:42:16
# Scope: Working on: **all open issues**

## CD-xzy - Remove all MTG references from codebase
**Status:** Completed
**Changes:** Removed MTG, Digimon, and DragonBall from supported games. Only 4 TCGs supported: Pokemon, Yu-Gi-Oh!, One Piece, Lorcana.
**Files:** src/lib/profileGames.ts, src/lib/wishlist.ts, src/lib/unified-api-evaluation.ts, src/app/api/*/route.ts, src/lib/__tests__/profileGames.test.ts
**Commit:** 5319999
---
## CD-xzy - Remove all MTG references from codebase
**Status:** Completed
**Changes:** Removed MTG, Digimon, and DragonBall references from source files and tests. Updated GameSlug type to only support 4 games (pokemon, yugioh, onepiece, lorcana). Fixed remaining tradeAdvisor test that expected 7 games.
**Files:** 
- src/lib/profileGames.ts
- src/lib/wishlist.ts
- src/lib/unified-api-evaluation.ts
- src/app/api/cards/route.ts
- src/app/api/search/route.ts
- src/lib/__tests__/profileGames.test.ts
- src/lib/__tests__/wishlist.test.ts
- src/lib/__tests__/tradeAdvisor.test.ts
- src/lib/__tests__/quizGenerator.test.ts
- src/lib/__tests__/recommendations.test.ts
- src/lib/__tests__/shoppingAssistant.test.ts
- src/lib/__tests__/conditionGrader.test.ts
- src/lib/__tests__/suspiciousAccessLog.test.ts
**Commit:** b98467c
---
## CD-3wh - Evaluate My Collection UX - sorting, trophy room, most valuable cards
**Status:** Completed
**Changes:** 
- Removed redundant "Most Valuable Cards" section from CollectionView (Trophy Room already shows this data)
- Improved sorting/filter control layout with better visual grouping and mobile-friendly stacking
- Updated tests to match new behavior
**Files:** 
- src/components/collection/CollectionView.tsx
- src/components/collection/__tests__/CollectionView.test.tsx
**Commit:** f7f3a64
---
## CD-kxm - Fix card detail modal - arrows don't update card image
**Status:** Completed
**Changes:** Fixed CardImage component to properly reset image state when src prop changes during card navigation. Used a ref to track the previous src prop value separately from internal imageSrc state. This ensures the image updates when navigating between cards while preserving error fallback behavior.
**Files:** src/components/ui/CardImage.tsx, src/components/ui/__tests__/CardImage.test.tsx
**Commit:** 09136c6018993d210aeed07e8a71e1e836c83ed5
---
## CD-dhj - Verify Browse Sets flow and game-specific content for all 4 games
**Status:** Completed
**Changes:** Added game-specific terminology support for card detail labels. CardDetailModal now shows appropriate labels (Energy/Attribute/Color/Ink) based on selected game. Expanded TYPE_SORT_ORDER in SetDetailClient to include card types from all 4 supported games (Pokemon, Yu-Gi-Oh!, One Piece, Lorcana).
**Files:** src/components/collection/CardDetailModal.tsx, src/components/collection/SetDetailClient.tsx
**Commit:** a01d1f6
---
## CD-4f0 - Make AI Chat game-specific with relevant suggestions
**Status:** Completed
**Changes:** Added game-specific suggested questions for all 4 TCGs with both "Your Collection" and "Building Your Collection" suggestions. Enhanced AI prompts with game-specific concepts, characters, and terminology to prevent cross-game term mixing.
**Files:** src/components/ai/CollectionChat.tsx, convex/ai/openai.ts
**Commit:** bfb4902
---
## CD-4f0 - Make AI Chat game-specific with relevant suggestions
**Status:** Completed
**Changes:** Added game-specific suggested questions (Pokemon: types/Charizard, Yu-Gi-Oh: archetypes/Blue-Eyes, One Piece: Leaders/Luffy, Lorcana: ink colors/Amber/Steel). Enhanced AI context with concepts, characters, and deck building terms. Added explicit instructions to prevent cross-game terminology mixing.
**Files:** src/components/ai/CollectionChat.tsx, convex/ai/openai.ts
**Commit:** bfb4902
---
## CD-owm - Fix Trophy Room to filter by selected game
**Status:** Completed
**Changes:** Fixed Trophy Room to filter cards by selected game. Added gameSlug parameter to getMostValuableCards Convex query with filter logic. Updated VirtualTrophyRoom component to pass the current game context and show game-specific empty state messages.
**Files:** convex/collections.ts, src/components/virtual/VirtualTrophyRoom.tsx
**Commit:** (pending)
---
## CD-wm5 - Add toggle filter for set cards: Have / Need / All
**Status:** Completed
**Changes:** Added a toggle filter (pill-button group) to the set detail page allowing users to filter cards by collection status (All/Have/Need). Each option displays the count of matching cards.
**Files:** src/components/collection/SetDetailClient.tsx
**Commit:** c02da69
---
## CD-owm - Fix Trophy Room to filter by selected game
**Status:** Completed
**Changes:** Made gameSlug required in getMostValuableCards query and removed conditional check so filtering always happens. The VirtualTrophyRoom component already correctly passes gameSlug from the GameSelectorProvider context.
**Files:** convex/collections.ts
**Commit:** d276c39 (included with previous commit during convex codegen)
---
## CD-5yk - Support card variations (holos, reverses, etc.) with visual indicators and selection
**Status:** Decomposed (blocked until children complete)
**Changes:** Evaluated issue scope, found it to be L/XL size requiring decomposition. Created 5 new sub-issues to break down the work:
- CD-5yk.1: Add variant badges to card thumbnails in CardGrid
- CD-5yk.2: Add variant picker when clicking card to add to collection  
- CD-5yk.4: Add game-specific variant types and mapping
- CD-5yk.7: Update set completion to optionally account for variants
- CD-5yk.9: Ensure API adapters fetch and cache available variants per card

(Note: 5 existing P1 sub-issues also exist for game-specific API work)

**Key Finding:** Extensive variant support ALREADY exists in codebase - schema, mutations, CardDetailModal all support variants. Main gaps are: variant badges on thumbnails, improved picker UX, game-specific variant types, and variant-aware set completion.
**Files:** None modified - decomposition only
**Commit:** N/A - no code changes
---
## CD-5yk.3 - Pokemon: Ensure variant data is properly extracted and displayed
**Status:** Completed
**Changes:** Fixed getAvailableVariants() function to read from card.availableVariants field (from cachedCards) instead of only checking tcgplayer.prices. Added availableVariants field to PokemonCard interface.
**Files:** src/lib/pokemon-tcg.ts, src/components/collection/VirtualCardGrid.tsx, src/components/collection/CardGrid.tsx
**Commit:** 8e92c0e
---
## CD-30a - Evaluate pricing model - tiers, trial, AI features, competitor research
**Status:** Completed
**Changes:** Comprehensive pricing model evaluation with competitor research (8 apps), feature gating analysis, and final recommendations
**Research Findings:**
- Analyzed TCGPlayer, Pokellector, Moxfield, Dragon Shield, CollX, BigAR, ABCMouse, Duolingo
- CardDex's $4.99/month is already competitively priced (cheaper than most competitors)
- Recommended: Keep $4.99/month, add 7-day free trial (no CC), gate AI features behind paywall
- Simple two-tier (Free/Pro) structure recommended
**Files:** No code changes (research task)
**Commit:** N/A (research/documentation only)
---
## CD-yhl - Add card imagery to landing page showing supported games
**Status:** Completed
**Changes:** Created GameCardShowcase and GameCardGrid components to display sample cards from all 4 games (Pokemon, Yu-Gi-Oh, One Piece, Lorcana) on the landing page. Added fanned card display to hero section and card grids to each game in the Supported Games section.
**Files:** 
- src/components/landing/GameCardShowcase.tsx (created)
- src/app/page.tsx (modified)
**Commit:** df42070
---
## CD-bbq - Fix broken card image URLs in landing page showcase
**Status:** Completed
**Changes:** Fixed 404 errors for One Piece and Lorcana card images in GameCardShowcase component
**Files:** src/components/landing/GameCardShowcase.tsx
**Commit:** dab9a32
---
## CD-3me - Fix dashboard to update content when game selector changes
**Status:** Completed
**Changes:** Made dashboard fully reactive to game selector changes by adding gameSlug filtering to getRandomCards and getNewlyAddedCards queries, passing gameSlug to child components, and removing hardcoded Pokemon reference
**Files:** convex/collections.ts, src/components/dashboard/FeaturedCardsPreview.tsx, src/components/dashboard/RecentCardsPreview.tsx, src/components/dashboard/KidDashboard.tsx, src/components/dashboard/ParentDashboard.tsx
**Commit:** b051c83 (changes were already committed)
---
## CD-3me - Additional fix: Game-agnostic milestone and level names
**Status:** Completed
**Changes:** Made milestone and level names game-agnostic by replacing Pokemon-specific terminology with neutral names
**Files:** 
- src/components/gamification/MilestoneCelebration.tsx
- src/components/achievements/TrophyCase.tsx
- src/components/gamification/LevelSystem.tsx
- src/lib/badges.ts
- src/lib/achievements.ts
- src/lib/avatarItems.ts
- src/lib/milestones.ts
- src/lib/levelSystem.ts
- convex/achievements.ts
**Commit:** 0333a4d
---
## CD-12j - Redesign color scheme - reduce gradients, differentiate game colors
**Status:** Completed
**Changes:** Updated One Piece colors to deep crimson/slate for differentiation from Pokemon's yellow. Replaced gradient usage with solid colors and borders in GameSwitcher, GameFilter, and GameSelectorOnboarding components.
**Files:** src/lib/gameSelector.ts, src/app/globals.css, src/components/header/GameSwitcher.tsx, src/components/sets/GameFilter.tsx, src/components/onboarding/GameSelectorOnboarding.tsx
**Commit:** 3e17eec
---
## CD-j95 - Remove Pokemon-specific references from general pages
**Status:** Completed
**Changes:** Made all user-facing content game-agnostic by replacing Pokemon-specific references with general trading card terminology across 8 files.
**Files:** 
- src/components/wishlist/ExportWishlist.tsx
- src/components/collection/ExportChecklist.tsx
- src/components/onboarding/SetStructureIntro.tsx
- src/components/tutorials/LearnToCollect.tsx
- src/components/collection/CollectorsJourneyStory.tsx
- src/components/collection/AdventureMap.tsx
- src/components/sets/SetStructureButton.tsx
- src/lib/setStructureContent.ts
**Commit:** 3d939a7
---
## CD-j95 - Remove Pokemon-specific references from general pages
**Status:** Completed
**Changes:** Made one additional fix missed from previous work - renamed 'Pokemon Focus' collection goal to 'Character Focus' in setStructureContent.ts
**Files:** src/lib/setStructureContent.ts
**Commit:** 7623e4e
---
